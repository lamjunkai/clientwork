@tailwind base;
@tailwind components;
@tailwind utilities;

/* macOS-Optimized Styles */
@layer base {

    /* Native macOS Font Stack */
    html {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
    }

    /* Smooth Scrolling for Trackpad */
    * {
        -webkit-overflow-scrolling: touch;
    }

    /* Safari-specific fixes */
    body {
        -webkit-text-size-adjust: 100%;
    }

    /* Hardware-accelerated transforms for smooth animations */
    video,
    button,
    .animate-fade-in {
        -webkit-transform: translateZ(0);
        transform: translateZ(0);
        will-change: transform, opacity;
    }
}

/* Retina Display Optimizations */
@media (-webkit-min-device-pixel-ratio: 2),
(min-resolution: 192dpi) {

    /* Crisp rendering on Retina displays */
    * {
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
    }

    /* Better image rendering */
    img,
    video {
        image-rendering: -webkit-optimize-contrast;
        image-rendering: crisp-edges;
    }
}

/* Responsive Breakpoints for Mac Devices */

/* MacBook Air 13" (1440x900 Retina: 2880x1800 @2x) */
@media (min-width: 1440px) and (max-width: 1680px) {
    .max-w-lg {
        max-width: 32rem;
    }
}

/* MacBook Pro 14" & 16" (3024x1964, 3456x2234) */
@media (min-width: 1680px) and (max-width: 2560px) {
    .max-w-lg {
        max-width: 36rem;
    }
}

/* iMac 24" & 27" (4480x2520, 5120x2880) */
@media (min-width: 2560px) {
    .max-w-lg {
        max-width: 42rem;
    }
}

/* Safari-Specific Backdrop Blur Fix */
@supports (-webkit-backdrop-filter: none) or (backdrop-filter: none) {
    .bg-opacity-50 {
        -webkit-backdrop-filter: blur(2px);
        backdrop-filter: blur(2px);
    }
}

/* Smooth Fade-in Animation (60fps optimized) */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: scale(0.95) translateY(10px);
    }

    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

.animate-fade-in {
    animation: fadeIn 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* Smooth Pulse Animation (Safari-compatible) */
@keyframes pulse {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.5;
    }
}

.animate-pulse {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Trackpad-Optimized Hover States */
@media (hover: hover) and (pointer: fine) {
    button:hover {
        transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
}

/* Safari Video Rendering Fix */
video {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
}

/* Smooth Button Transitions */
button {
    -webkit-tap-highlight-color: transparent;
    transition: transform 0.15s ease-out, box-shadow 0.15s ease-out, background-color 0.15s ease-out;
}

button:active {
    transform: scale(0.98);
}